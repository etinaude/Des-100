<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>Etienne Naude</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1 minimum-scale=1" />
  <meta charset="UTF-8" />
  <meta name="author" content="Etienne Naude" />
  <meta name="description" content="Etienne Naude Portfolio" />
  <meta name="theme-color" content="#0080ff" />
  <link rel="icon" type="image/svg" href="../assests/icons/icon.svg" />
  <link rel="stylesheet" href="../css/bootstrap/bootstrap.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300,400,700|Oswald:400,700" />
  <link rel="stylesheet" href="../css/style.css" />

  <script src="../js/aos.min.js"></script>
  <script src="../js/jquery/jquery.min.js"></script>
  <script src="../js/jquery/jquery.sticky.js"></script>
  <script async src="../js/owl.carousel.min.js"></script>
  <script async src="../js/popper.min.js"></script>
  <script async src="../js/bootstrap.min.js"></script>
  <script defer src="../js/cdn.min.js"></script>
  <script defer src="../js/main.min.js"></script>
  <script async src="../js/jquery/jquery.animateNumber.min.js"></script>
  <script async src="../js/jquery/jquery.waypoints.min.js"></script>
  <script defer src="../js/jquery/jquery.easing.1.3.js"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-BBD6TYN2LZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-BBD6TYN2LZ");
  </script>
</head>

<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300" style="width: 105vw">
  <div id="blog-overlayer"></div>
  <div class="loader">
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
  <div class="site-wrap">
    <div class="site-mobile-menu site-navbar-target">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>
    <header class="site-navbar js-sticky-header site-navbar-target" style="width: 100vw" role="banner">
      <div class="container" style="width: 100vw">
        <div class="row align-items-center position-relative">
          <div class="site-logo">
            <a class="text-black"><span class="text-primary"><span>Etienne Naude</span></span></a>
          </div>
          <div class="col-12">
            <nav class="site-navigation text-right ml-auto" role="navigation">
              <ul class="
                    site-menu
                    main-menu
                    js-clone-nav
                    ml-auto
                    d-none d-lg-block
                  ">
                <li>
                  <a href="../index.html" class="nav-link">Home</a>
                </li>
                <li>
                  <a href="../projects.html" class="nav-link">Projects</a>
                </li>
                <li>
                  <a href="../blog.html" class="nav-link">Blog</a>
                </li>
                <li>
                  <a href="../index.html#about-section" class="nav-link">About Me</a>
                </li>
                <li>
                  <a href="/index.html#contact-section" class="nav-link">Contact</a>
                </li>
              </ul>
            </nav>
          </div>
          <div class="toggle-button d-inline-block d-lg-none">
            <a href="#" class="site-menu-toggle py-5 js-menu-toggle text-white"><span class="icon-menu h3"></span></a>
          </div>
        </div>
      </div>
    </header>

    <div id="blog-section row mb-5 justify-content-center">
      <br />
      <br />
      <div class="row mb-5 justify-content-center">
        <div class="col-md-7 text-center">
          <div class="block-heading-1" data-aos="fade-up" data-aos-delay="">
            <h2>Fertility Town</h2>
          </div>
        </div>
      </div>
      <div class="container mb-1 block__73694 blog-text">
        <h3>Demo</h3>
        <div class="paragraph">
          <div class="blog-img-large hover top">
            <img class="image" target="_blank" rel="noreferrer" src="../assets/240/a3/final.gif" />
          </div>
          <a href="../assets/240/it4.gif" download>
            <input type="button" class="btn btn-dark text-white py-3 px-5" style="background-color: #49adff"
              value="DOWNLOAD GIF" /></a>
          <br /><br />
          <br /><br />
          <div class="paragraph">
            <h2>Statement of Intent</h2>
            <p>

              Silas Moore and I worked as a team to create an interactive experience to help educate people on
              the topic of fertility rate. We carried on from my previous work of
              representing the fertility rate of New Zealand and explaining why the fertility rate is what it is.
              As I have have given an in-depth explanation about this and analysed it in the previous <a
                href="https://des100.etinaude.dev/blogs/why.html"> blog posts </a> I will provide only a brief
              explanation.

            </p>
          </div>
          <br /><br />

          <h3>Fertility Rate</h3>
          <p>
            Fertility rate is a very broad measure as to a countries health. It is measured in births per woman (BPW)
            and is calculated by figuring out the average number of children a woman would have over her life time,
            assuming she lives to the end of her reproductive life. If the fertility rate is below 2 BPW then the
            population will decrease since there are not enough children to replace the population. If the fertility
            rate is above 2 BPW then the population will increase since there are enough children to replace more than
            the population.

            <br />
            As discussed in my
            <a href="https://des100.etinaude.dev/blogs/processing">first blog post</a>
            and explored more in my
            <a href="https://des100.etinaude.dev/blogs/why.html"> second blog posts </a>

            There are many factors that influence the fertility rate of a country. The factors we focus on are the
            healthcare, education and gender ratio in workplaces of a country.
          </p>
        </div>

        <br />
        <h3>Our Process</h3>
        <div class="paragraph">
          <div class="blog-img-large hover left top">
            <img class="image" src="./../assets/240/a3/brainstorm.png" />
          </div>
          <p>
            We started by creating a brainstorm of ideas and concepts that we would like to explore.
            In the brainstorm we looked at previous forms of interactive programs, mainly games, which might have spark
            some creative ideas in us. We also looked at different forms of interactions for example using a camera as
            in input device or a taser as an output device. From this brainstorm we honed in on a city planning
            simulator in which a user has to create a city with a fertility rate of about 2 BPW.
            <br>
            We divided the tasks across between us, I took the role of technical lead, while Silas took the role of art
            director since we each had more experience in our respective fields.
          </p>
          <div class="blog-img-large hover left top">
            <img class="image" src="./../assets/240/a3/demo.gif" />
          </div>
          <p>
            After the brainstorm I created a proof of concept prototype of the city planning simulator. I did this is
            processing by creating a grid which the user could insert squares which would be place holders for
            buildings. Since we both liked the idea and proof of concept, even if it did not look great, we decided to
            carry on with the idea.
            <br>
          </p>
          <div class="blog-img-large hover left top">
            <img class="image" src="./../assets/240/a3/DOTS!.gif" />
          </div>
          <p>
            Next we decided that it could use an isometric view, as Silas had experience with it before, its a nice art
            style and many city planning games use it. To implement this is was quite difficult since I needed to
            calculate the position to place an image once a user clicked on a square in the grid. To calculate this I
            had to find which grid line sloped up and intersected above where the user clicked as well as the one which
            sloped down and was the first one below where the user clicked. Once I had found these two grid line I could
            find their intersection - which would be the left corner of the cell in which the user clicked. As in
            isometric grids each cell is twice as wide as it is tall, so I only stored its width. Because of this each
            image needed to be placed 1/4 of the width of the grid above its left corner, this would place it in the
            center of the top left cell (red dot) which means that the transparency of the image would place the visible
            part of the image in the correct cell.
          </p>
          <div class="blog-img-large hover left top">
            <img class="image" src="./../assets/240/a3/images.gif" />
          </div>
          <p>
            This was the hardest part of the project, but once it was done I was able to add more features quickly.
            Since Processing was not made with user interaction in mind, I asked to switch to p5.js. p5.js is the
            equivalent of processing but for JavaScript rather than java. JavaScript is a powerful language focussed
            around web design and user interfaces. This means that I was able to do things much quicker than I would be
            able to in processing. For example, in p5.js I can add a small amount of CSS in about 2 minutes to create a
            smooth hover animation for a button, whereas in processing this would take me hours to do. Additionally, in
            p5 I can import different libraries and tools to help me design quickly and efficiently. Once I switched to
            p5 this is what the programme looked like.
          </p>
        </div>
        <div class="blog-img-large hover left top">
          <img class="image" src="./../assets/240/a3/nice view.gif" />
        </div>
        <p>
          At this point we changed our aspect ratio to be designed around 16:9 (although JavaScript will display in
          whatever size you give it). We did this for a range of reasons firstly it is a standard aspect ratio which
          means where ever we want to display our application it is more likely to fit the screen, secondly people are
          more used to wider aspect ratio so it provides a smoother user experience, thirdly humans can see wider than
          taller so wide aspect ratios fill in more of their vision, and lastly since most modern screens are around
          this aspect ratio it provides more screen real estate for the programme, and thus gives us more space to
          design.
          <br>
          <br>
          From here I changed the buttons to be in a grid format, so they did not go off the edge of the screen, I also
          made the delete button wider, and moved the information from the top of the screen to the right inside a small
          container. I also added a graph to display the fertility rate over time. There were some small visual
          improvements also made like adding a title and altering the outline of the grid. I also changed the code so
          that buildings could not be placed in the squares which were half off half on the screen.

        </p>
        <div class="blog-img-large hover left top">
          <img class="image" src="./../assets/240/a3/demo (1).gif" />
        </div>


        <p>
          This was also the point which I added an actual scoring system rather than a placeholder. Since having 200
          hospitals wont help a town much more tha 199 but 1 hospital would help HUGELY more than none I gave each
          building a set of scores with diminishing returns which they use to influence the fertility rate. I based this
          set of score for each building on a number of factors, firstly the research from my previous assignments and
          secondly some mathematical modelling I had done in Desmos to create a logarithmic curve (since this would most
          closely match the diminishing returns). This is a short demo of how I changed the curves until I found an
          ideal one.
        </p>

        <div class="blog-img-large hover left top">
          <img class="image" src="./../assets/240/a3/stuff.gif" />
        </div>
        <div class="blog-img-large hover left top">
          <img class="image" src="./../assets/240/a3/bar-demo.gif" />
        </div>
        <p>
          From a range of feedback we received it was unclear what the user had to do and what goal they had to achieve.
          So I added a bar which moves and shows how close the user is to a goal. This bar did not show the score
          linearly since fertility rates aren't linear. What I mean by this is a fertility rate of 1.0 will create a
          halving population each generation, where as you'd need a fertility rate of 4 to create a doubling population,
          not 3. So instead this is modelled on a exponential curve which is shown below. This is how I mapped a
          fertility rate of between 0 and 20 to a percentage of how far the bar was filled in. Based on this same
          principal I created the green range and the yellow range indicating a great and a good fertility rate.
          <br>
          Silas and I around this time thought that this would be best suited to a public education venue such as a
          museum and as such we also added a small modal popup which would show the user some information about
          fertility rates. Although this only shows the user some information since in a setting like this there would
          be more information about fertility rates around the "interactive experience".
          <br>
          Because of the setting for this simulation we decided that adding sounds would likely disturb other people
          walking in the museum and thus would not be ideal. I also designed this so that it could be used with a mouse
          or a touch pad, but depending on more specification of the hardware I would change the design to fit the
          aspect ratio, screen size and input method.
        </p>

        <div class="blog-img-large hover left top">
          <img class="image" src="./../assets/240/a3/more math.gif" />
        </div>

        <div class="blog-img-large hover left top">
          <img class="image" src="./../assets/240/a3/progress.gif" />
        </div>

        <p>
          This was when Silas completed the assets so I could replace the temporary ones with updated ones. This made
          everything look MUCH better. From some user testing and feedback I received I changed the bar to be a notch on
          the target bar which moves, this did look much better and also provided some clarity. In this iteration I also
          changed the style of the selected building and changed the text "blueprints" to "Buildings". I also changed
          the grid size in this iteration to be smaller and simpler and prepopulated it with houses.
          <br>
          The pre-population was done done to place about 17 houses before the user can fill in the rest of the map,
          this was for a few reasons, firstly to add in some randomness such as where the houses are placed and how many
          are placed as well as restricting the player to only being able to place a few buildings. We also added a
          "reset" button which can be used to reset the map and show the information again. If there is no interaction
          from the user for 2 minutes the map resets so the next user can use it. I also added a small count on each
          building button to show how many of each type had been placed.
          <br>
          I also added hover animations to show the user if they could place or delete a building in the cell they are
          hovering over. If they can place a building a slightly transparent one will appear and solidify on placement.
        </p>

        <div class="blog-img-large hover left top">
          <img class="image" src="./../assets/240/a3/hover.gif" />
        </div>

        <p>
          Next we came up with a bunch of names and temporaily used the name "baby factory" which we then later changed
          to "fertility town" due to potential misogynistic connotations. All the empty squares now used a field image
          which looked much better than leaving them blank, we also removed the ability to place more houses and removed
          the "drug den" building.
        </p>
        <div class="blog-img-large hover left top">
          <img class="image" src="./../assets/240/a3/final.gif" />
        </div>

        <p>
          This was the final iteration of the project. Silas changed the assets to mesh well together and I worked on
          fixing some bugs and adding animation into the notch bar so it slides smoothly rather than jumping around.
          <br>

          If you would like to try this it is available at <a
            href="https://des-240.etinaude.dev">des-240.etinaude.dev</a>
        </p>
        <br>

        <h3>Code Performance</h3>
        <div class="paragraph">
          <p>
            The performance of the code is fairly good since the functions are made to run seldomly. For example the
            buttons are only redrawn when the application is reset or a user clicks them, only the count is updated when
            a new building is placed. Another optimisation is that if the user does not move their mouse while it is
            hovering it will not keep redrawing the image, only if the mouse moves to a different cell (and there for a
            different output is needed) will the screen be redrawn.
            <br>
            There are some aspects of the code which are not optimised, for example finding the cell in which to place a
            new building. The optimal code for this is O(1) (which means it runs in constant time) but the code I
            implemented runs in o(sqrt(n)) (so its speed is proportional to the square root of the number of cells).
            Although this is lot very efficient there are very few cells and this is only run when the user hovers over
            or clicks on a new cell which is seldomly.
            <br>
            The performance of the code was tested and analysed using a JavaScript profiler and so I can happy with its
            performance and did not need to perform micro optimisations.
          </p>
        </div>
        <br>

        <h3>Future Iterations</h3>
        <div class="paragraph">
          <p>
            In future iterations we would like to add a greater range of buildings and make the buildings machine
            generated so there would be a few designs of buildings for each type. It might also be nice to add some
            building animation when each building is created and also creating some stick figures and cars which wonder
            around the city.
            <br>
            Although these are nice ideas we did not have enough time to realistically implement them.
          </p>
        </div>
        <br>

        <h3>Video</h3>
        <div class="paragraph">
          <p>
            We also created a video of the project which can be found <a
              href="https://www.youtube.com/watch?v=PqXsL5zX-3c">here</a>. This was meant to describe our iterative
            process in creating this application. We thought this style of video would be more interesting than a
            standard slide show presentation hence why we included many animations.
          </p>
        </div>
        <br>

        <h3>Resources</h3>
        <div class="paragraph">
          <h4>Code</h4>
          <p>
            This project's code can be found on my
            <a href="https://github.com/etinaude/Des-240">Github account</a>.
            The commit history shows the development of different prototypes.
          </p>

          <h4>Planning and Progress</h4>
          <p>
            Miro was used to plan out the different stages of the project.
            <a href="https://miro.com/app/board/o9J_l4D5A8o=/">miro board</a>.
          </p>
        </div>

        <div class="nav-btns container">
          <a href="./derailed.html">
            <input type="button" class="btn btn-dark text-white py-3 px-5" style="background-color: #49adff"
              value="Previous Post" />
          </a>
          <a href="./reverse.html">
            <input type="button" class="btn btn-dark text-white py-3 px-5" style="background-color: #49adff"
              value="Next Post" />
          </a>
        </div>
        <div class="references">
          <h2>References</h2>
          <ol>
            <li>
              <a href="https://des100.etinaude.dev/blogs/processing">First blog post </a>
            </li>
            <li>
              <a href="https://des100.etinaude.dev/blogs/why.html"> Second blog posts </a>
          </ol>
          </li>
        </div>
      </div>
    </div>
  </div>
</body>

</html>